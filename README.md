# Weather Dashboard

A full-stack weather dashboard demonstrating a polyglot backend architecture using both Node.js and Python Flask, with a React.js frontend.

---

## Features

- User authentication (JWT-based) via Flask backend
- City selection and current weather (Node.js backend)
- Weather history and recommendations (Flask backend, JWT-protected)

---

## Architecture Overview

- **Node.js Backend (`weather-backend`)**
  - `/weather`: Returns current weather for a city
  - `/cities`: Returns a list of supported cities

- **Flask Backend (`weather-backend-flask`)**
  - `/login`: Authenticates user and issues JWT
  - `/history`: Returns last 7 days of mock weather data for a city (JWT-protected)
  - `/recommendation`: Suggests the best day to visit a city based on mock data (JWT-protected)

- **Frontend (`weather-frontend`)**
  - React.js app that orchestrates API calls to both backends, validates responses, and updates the UI dynamically

---

## How to Run the Project

### 1. Start the Node.js Backend

```bash
cd weather-backend
npm install
npm start
```
- Runs at: [http://localhost:4000](http://localhost:4000)

### 2. Start the Python Flask Backend

```bash
cd weather-backend-flask
pip install -r requirements.txt
python app.py
```
- Runs at: [http://localhost:5000](http://localhost:5000)

### 3. Start the React Frontend

```bash
cd weather-frontend
npm install
npm run dev
```
- Usually runs at: [http://localhost:5173](http://localhost:5173)

---

## Usage

1. Open the frontend URL in your browser.
2. Log in using the demo credentials:
   - **Username:** `testuser`
   - **Password:** `testpass`
3. Select a city and get current weather (from Node.js backend).
4. Use "Show History" and "Get Recommendation" (from Flask backend, requires login).

---

## Endpoints

### Node.js Backend (`weather-backend`)
- `GET /weather?city=CityName`  
  Returns current weather for the specified city.
- `GET /cities`  
  Returns a list of supported cities.

### Flask Backend (`weather-backend-flask`)
- `POST /login`  
  Authenticates user and returns a JWT.  
  Request body:  
  ```json
  { "username": "testuser", "password": "testpass" }
  ```
  Response:  
  ```json
  { "token": "<JWT>" }
  ```
- `GET /history?city=CityName`  
  Returns last 7 days of weather history for the city. Requires `Authorization: Bearer <JWT>` header.
- `GET /recommendation?city=CityName`  
  Returns the best day to visit the city based on mock weather data. Requires `Authorization: Bearer <JWT>` header.

---

## Notes

- The weather data is generated by the backends using mock/hardcoded values for demonstration purposes. No real weather API is used.
- All three servers (Node.js backend, Flask backend, React frontend) must be running for full functionality.
- CORS is enabled on both backends to allow requests from the frontend.
